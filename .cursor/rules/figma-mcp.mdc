---
description: Figma MCP: как вытягивать контекст и активы для Android/Compose
globs:
  - "**/*.kt"
alwaysApply: true
---

# Обязательный флоу при работе с макетом
1) Сначала вызови `get_design_context` для выбранного нода/ссылки.
2) Если ответ огромный — вызови `get_metadata` и сузь область, затем повтори `get_design_context`.
3) Возьми `get_screenshot` нужного варианта для визуальной сверки.
4) Переведи структуру (часто React+Tailwind) в **Jetpack Compose/Material3**, НЕ копируй CSS буквально.
5) Выгрузи переменные/стили (`get_variable_defs`, локальный MCP) и замапь на `MaterialTheme`.
6) Готовые ассеты — скачай из MCP-эндпоинтов и положи в `res/drawable*` с валидными именами.

# Правила активов (assets)
- Если MCP вернул локальный/временный источник для SVG/PNG — используй его для выгрузки файла в проект.
- **Нельзя** подтягивать сторонние пакеты иконок; используем только ассеты из Figma payload.
- Не создаём плейсхолдеры, если MCP вернул источник.

# Реализация на Compose
- Реплицируем layout/иерархию, а стили берём из токенов/темы.
- Tailwind-классы трактуем как подсказку по отступам/цветам/радиусам → маппим на `Dp`, `MaterialTheme`.
- Переиспользуем существующие компоненты (кнопки, инпуты, типографика), не дублируем.
- В конце сравниваем с `get_screenshot` и при необходимости корректируем отступы/размеры.

# Проверка
- Собери модуль `composeui` и запусти превью; приложи скриншот в PR для визуальной сверки.
